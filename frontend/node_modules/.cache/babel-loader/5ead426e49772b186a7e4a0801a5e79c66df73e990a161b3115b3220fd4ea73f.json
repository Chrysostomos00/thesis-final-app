{"ast":null,"code":"var _jsxFileName = \"/Users/tommys/Desktop/ai14/frontend/src/components/Dashboard/MaterialManagerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport MaterialManager from './MaterialManager'; // Reuse the component\nimport { getMaterials } from '../../services/api';\nimport { FaArrowLeft, FaBook } from 'react-icons/fa';\nimport '../../styles/TeacherDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MaterialManagerPage() {\n  _s();\n  const [materials, setMaterials] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(''); // Added success state\n\n  // Callbacks for messages\n  const clearMessages = useCallback(() => {\n    setError('');\n    setSuccess('');\n  }, []);\n  const showSuccess = useCallback(msg => {\n    setSuccess(msg);\n    setError('');\n    setTimeout(clearMessages, 3000);\n  }, [clearMessages]);\n  const showError = useCallback(msg => {\n    setError(msg);\n    setSuccess('');\n  }, []);\n  const fetchMats = useCallback(async () => {\n    setIsLoading(true);\n    clearMessages(); // Clear messages on fetch\n    try {\n      const r = await getMaterials();\n      setMaterials(r.data || []);\n    } catch (e) {\n      showError('Failed to load materials. Please refresh.');\n      console.error(e);\n      setMaterials([]); // Ensure empty array on error\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showError]); // Added showError dependency\n\n  useEffect(() => {\n    fetchMats();\n  }, [fetchMats]);\n\n  // Dummy click handler as we don't add summaries from this page\n  const handleDummyClick = () => {\n    showSuccess(\"To add a material summary to a prompt, please go to the 'AI Assistants' workshop.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"material-manager-page page-content-wrapper\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/teacher/dashboard\",\n        className: \"subtle-button back-button\",\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 22\n        }, this), \" \\u03A0\\u03AF\\u03C3\\u03C9 \\u03C3\\u03C4\\u03B7 \\u039A\\u03B5\\u03BD\\u03C4\\u03C1\\u03B9\\u03BA\\u03AE\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(FaBook, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), \" \\u0394\\u03B9\\u03B1\\u03C7\\u03B5\\u03AF\\u03C1\\u03B7\\u03C3\\u03B7 \\u0395\\u03BA\\u03C0\\u03B1\\u03B9\\u03B4\\u03B5\\u03C5\\u03C4\\u03B9\\u03BA\\u03BF\\u03CD \\u03A5\\u03BB\\u03B9\\u03BA\\u03BF\\u03CD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 14\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message error-message global-message\",\n      children: [error, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearMessages,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 86\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 24\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message success-message global-message\",\n      children: [success, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearMessages,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 92\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(MaterialManager, {\n      materials: materials,\n      setMaterials: setMaterials // Allow deletion from here too\n      ,\n      onMaterialClick: handleDummyClick // Different action/message here\n      ,\n      isLoading: isLoading,\n      refreshMaterials: fetchMats,\n      showError: showError,\n      showSuccess: showSuccess,\n      clearMessages: clearMessages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(MaterialManagerPage, \"Ac8ph9110wnRJ6m+Us2I3PGzkVk=\");\n_c = MaterialManagerPage;\nexport default MaterialManagerPage;\nvar _c;\n$RefreshReg$(_c, \"MaterialManagerPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","MaterialManager","getMaterials","FaArrowLeft","FaBook","jsxDEV","_jsxDEV","MaterialManagerPage","_s","materials","setMaterials","isLoading","setIsLoading","error","setError","success","setSuccess","clearMessages","showSuccess","msg","setTimeout","showError","fetchMats","r","data","e","console","handleDummyClick","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onMaterialClick","refreshMaterials","_c","$RefreshReg$"],"sources":["/Users/tommys/Desktop/ai14/frontend/src/components/Dashboard/MaterialManagerPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport MaterialManager from './MaterialManager'; // Reuse the component\nimport { getMaterials } from '../../services/api';\nimport { FaArrowLeft, FaBook } from 'react-icons/fa';\nimport '../../styles/TeacherDashboard.css';\n\nfunction MaterialManagerPage() {\n    const [materials, setMaterials] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState(''); // Added success state\n\n    // Callbacks for messages\n    const clearMessages = useCallback(() => { setError(''); setSuccess(''); }, []);\n    const showSuccess = useCallback((msg) => { setSuccess(msg); setError(''); setTimeout(clearMessages, 3000); }, [clearMessages]);\n    const showError = useCallback((msg) => { setError(msg); setSuccess(''); }, []);\n\n    const fetchMats = useCallback(async () => {\n        setIsLoading(true); clearMessages(); // Clear messages on fetch\n        try {\n            const r = await getMaterials();\n            setMaterials(r.data || []);\n        } catch(e) {\n            showError('Failed to load materials. Please refresh.'); console.error(e);\n            setMaterials([]); // Ensure empty array on error\n        } finally {\n            setIsLoading(false);\n        }\n    }, [showError]); // Added showError dependency\n\n    useEffect(() => { fetchMats(); }, [fetchMats]);\n\n    // Dummy click handler as we don't add summaries from this page\n    const handleDummyClick = () => {\n        showSuccess(\"To add a material summary to a prompt, please go to the 'AI Assistants' workshop.\");\n    };\n\n    return (\n        <div className=\"material-manager-page page-content-wrapper\"> {/* Added wrapper class */}\n             <div className=\"page-header\">\n                 <Link to=\"/teacher/dashboard\" className='subtle-button back-button'>\n                     <FaArrowLeft /> Πίσω στη Κεντρική\n                 </Link>\n                <h2><FaBook/> Διαχείρηση Εκπαιδευτικού Υλικού</h2>\n                 {/* Add Upload button directly here? Or keep inside MaterialManager */}\n             </div>\n             {error && <div className=\"message error-message global-message\">{error} <button onClick={clearMessages}>X</button></div>}\n             {success && <div className=\"message success-message global-message\">{success} <button onClick={clearMessages}>X</button></div>}\n             <MaterialManager\n                materials={materials}\n                setMaterials={setMaterials} // Allow deletion from here too\n                onMaterialClick={handleDummyClick} // Different action/message here\n                isLoading={isLoading}\n                refreshMaterials={fetchMats}\n                showError={showError}\n                showSuccess={showSuccess}\n                clearMessages={clearMessages}\n            />\n        </div>\n    );\n}\nexport default MaterialManagerPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}