{"ast":null,"code":"var _jsxFileName = \"/Users/tommys/Desktop/ai14/frontend/src/components/Dashboard/PromptBuilder/SortableBlock.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { FaGripVertical, FaTrash, FaEdit, FaCheck, FaTimes } from 'react-icons/fa'; // Icons\nimport { BlockTypes } from '../PromptWorkshop'; // Import BlockTypes\nimport '../../../styles/PromptWorkshop.css'; // Ensure CSS is created/updated\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SortableBlock({\n  id,\n  block,\n  onDeleteBlock,\n  onUpdateBlockContent,\n  isDragging,\n  isOpacityReduced\n}) {\n  _s();\n  // Έναρξη επεξεργασίας εάν είναι νέο προσαρμοσμένο μπλοκ\n  const [isEditing, setIsEditing] = useState(block.type === BlockTypes.CUSTOM_TEXT && block.content.includes('Εισαγάγετε τη δική σας οδηγία...'));\n  const [editedContent, setEditedContent] = useState(block.content);\n  const textareaRef = useRef(null); // Ref for the textarea\n\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging: isSortableDragging // Renamed to avoid conflict\n  } = useSortable({\n    id: id\n  });\n\n  // Combine isDragging props if needed\n  const currentlyDragging = isDragging || isSortableDragging;\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition: transition || undefined,\n    // Ensure transition is not null\n    opacity: isOpacityReduced ? 0.5 : 1,\n    cursor: currentlyDragging ? 'grabbing' : 'grab',\n    zIndex: currentlyDragging ? 10 : 'auto' // Bring dragged item to front\n  };\n\n  // --- Edit Handling ---\n  const handleEditClick = () => {\n    setEditedContent(block.content); // Reset edit buffer to current content\n    setIsEditing(true);\n  };\n  const handleSaveEdit = () => {\n    if (editedContent.trim() !== block.content) {\n      onUpdateBlockContent(id, editedContent.trim());\n    }\n    setIsEditing(false);\n  };\n  const handleCancelEdit = () => {\n    setEditedContent(block.content); // Revert changes\n    setIsEditing(false);\n  };\n  const handleContentChange = e => {\n    setEditedContent(e.target.value);\n    // Auto-resize textarea\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto'; // Reset height\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  };\n\n  // Auto-focus and resize textarea when editing starts\n  useEffect(() => {\n    if (isEditing && textareaRef.current) {\n      textareaRef.current.focus();\n      textareaRef.current.select(); // Select text for easy replacement\n      // Adjust height initially and in case content was loaded\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [isEditing]);\n\n  // Determine block type for styling/iconography\n  const getBlockIcon = () => {\n    var _block$title, _block$title2, _block$title3, _block$title4, _block$title5, _block$title6, _block$title7, _block$title8, _block$title9;\n    switch (block.type) {\n      case BlockTypes.MATERIAL_SUMMARY:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: \"\\u03A0\\u03B5\\u03C1\\u03AF\\u03BB\\u03B7\\u03C8\\u03B7 \\u03A5\\u03BB\\u03B9\\u03BA\\u03BF\\u03CD\",\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 54\n        }, this);\n      case BlockTypes.CUSTOM_TEXT:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: \"\\u03A0\\u03C1\\u03BF\\u03C3\\u03B1\\u03C1\\u03BC\\u03BF\\u03C3\\u03BC\\u03AD\\u03BD\\u03BF \\u039A\\u03B5\\u03AF\\u03BC\\u03B5\\u03BD\\u03BF\",\n          children: \"\\u270F\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 49\n        }, this);\n      case BlockTypes.PALETTE_ITEM: // Should be CANVAS_BLOCK on canvas\n      case BlockTypes.CANVAS_BLOCK:\n        // Heuristic for icons based on title/content\n        if ((_block$title = block.title) !== null && _block$title !== void 0 && _block$title.includes('Ρόλος') || (_block$title2 = block.title) !== null && _block$title2 !== void 0 && _block$title2.includes('Προσωπικότητα')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\uD83C\\uDFAF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 102\n        }, this);\n        if ((_block$title3 = block.title) !== null && _block$title3 !== void 0 && _block$title3.includes('Ύφος')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\uD83D\\uDDE3\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 59\n        }, this);\n        if ((_block$title4 = block.title) !== null && _block$title4 !== void 0 && _block$title4.includes('Πλαίσιο') || (_block$title5 = block.title) !== null && _block$title5 !== void 0 && _block$title5.includes('Γνώση')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\uD83D\\uDCDA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 96\n        }, this);\n        if ((_block$title6 = block.title) !== null && _block$title6 !== void 0 && _block$title6.includes('Καθοδήγηση') || (_block$title7 = block.title) !== null && _block$title7 !== void 0 && _block$title7.includes('Βήμα')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\u2753\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 98\n        }, this);\n        if ((_block$title8 = block.title) !== null && _block$title8 !== void 0 && _block$title8.includes('Παράδειγμα')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 65\n        }, this);\n        if ((_block$title9 = block.title) !== null && _block$title9 !== void 0 && _block$title9.includes('Ασφάλεια')) return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: block.title,\n          children: \"\\uD83D\\uDEE1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 63\n        }, this);\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: \"\\u039F\\u03B4\\u03B7\\u03B3\\u03AF\\u03B1\",\n          children: \"\\u2699\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this);\n      // Default instruction icon\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          title: \"\\u039C\\u03C0\\u03BB\\u03BF\\u03BA\",\n          children: \"\\uD83E\\uDDF1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    style: style,\n    className: `canvas-block ${currentlyDragging ? 'dragging' : ''} type-${block.type || 'default'}`,\n    children: [!isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n      ...attributes,\n      ...listeners,\n      className: \"drag-handle subtle-button\",\n      title: \"\\u03A3\\u03CD\\u03C1\\u03B5\\u03C4\\u03B5 \\u03B3\\u03B9\\u03B1 \\u03B1\\u03BD\\u03B1\\u03B4\\u03B9\\u03AC\\u03C4\\u03B1\\u03BE\\u03B7\",\n      children: /*#__PURE__*/_jsxDEV(FaGripVertical, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"block-content-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block-header\",\n        children: [getBlockIcon(), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: block.title || 'Μπλοκ Οδηγίας'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 18\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        value: editedContent,\n        onChange: handleContentChange,\n        onBlur: handleSaveEdit // Save when focus is lost\n        ,\n        rows: 3 // Start with a few rows\n        ,\n        className: \"block-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"block-text\",\n        onDoubleClick: block.type === BlockTypes.CUSTOM_TEXT ? handleEditClick : undefined,\n        children: [block.content, block.type === BlockTypes.CUSTOM_TEXT && /*#__PURE__*/_jsxDEV(FaEdit, {\n          className: \"edit-hint-icon\",\n          title: \"\\u0394\\u03B9\\u03C0\\u03BB\\u03CC \\u03BA\\u03BB\\u03B9\\u03BA \\u03B3\\u03B9\\u03B1 \\u03B5\\u03C0\\u03B5\\u03BE\\u03B5\\u03C1\\u03B3\\u03B1\\u03C3\\u03AF\\u03B1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"block-actions\",\n      children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSaveEdit,\n          className: \"action-button save subtle-button\",\n          title: \"\\u0391\\u03C0\\u03BF\\u03B8\\u03AE\\u03BA\\u03B5\\u03C5\\u03C3\\u03B7 \\u03B1\\u03BB\\u03BB\\u03B1\\u03B3\\u03CE\\u03BD\",\n          children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCancelEdit,\n          className: \"action-button cancel subtle-button\",\n          title: \"\\u0391\\u03BA\\u03CD\\u03C1\\u03C9\\u03C3\\u03B7 \\u03B5\\u03C0\\u03B5\\u03BE\\u03B5\\u03C1\\u03B3\\u03B1\\u03C3\\u03AF\\u03B1\\u03C2\",\n          children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [block.type === BlockTypes.CUSTOM_TEXT && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEditClick,\n          className: \"action-button edit subtle-button\",\n          title: \"\\u0395\\u03C0\\u03B5\\u03BE\\u03B5\\u03C1\\u03B3\\u03B1\\u03C3\\u03AF\\u03B1 \\u03C0\\u03B5\\u03C1\\u03B9\\u03B5\\u03C7\\u03BF\\u03BC\\u03AD\\u03BD\\u03BF\\u03C5\",\n          children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDeleteBlock(id),\n          className: \"action-button delete subtle-button\",\n          title: \"\\u0394\\u03B9\\u03B1\\u03B3\\u03C1\\u03B1\\u03C6\\u03AE \\u03BC\\u03C0\\u03BB\\u03BF\\u03BA\",\n          children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n_s(SortableBlock, \"xAgYMHqNERiAie4lcFQjQURmDpw=\", false, function () {\n  return [useSortable];\n});\n_c = SortableBlock;\nexport default SortableBlock;\nvar _c;\n$RefreshReg$(_c, \"SortableBlock\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useSortable","CSS","FaGripVertical","FaTrash","FaEdit","FaCheck","FaTimes","BlockTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","SortableBlock","id","block","onDeleteBlock","onUpdateBlockContent","isDragging","isOpacityReduced","_s","isEditing","setIsEditing","type","CUSTOM_TEXT","content","includes","editedContent","setEditedContent","textareaRef","attributes","listeners","setNodeRef","transform","transition","isSortableDragging","currentlyDragging","style","Transform","toString","undefined","opacity","cursor","zIndex","handleEditClick","handleSaveEdit","trim","handleCancelEdit","handleContentChange","e","target","value","current","height","scrollHeight","focus","select","getBlockIcon","_block$title","_block$title2","_block$title3","_block$title4","_block$title5","_block$title6","_block$title7","_block$title8","_block$title9","MATERIAL_SUMMARY","title","children","fileName","_jsxFileName","lineNumber","columnNumber","PALETTE_ITEM","CANVAS_BLOCK","ref","className","onChange","onBlur","rows","onDoubleClick","onClick","_c","$RefreshReg$"],"sources":["/Users/tommys/Desktop/ai14/frontend/src/components/Dashboard/PromptBuilder/SortableBlock.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { FaGripVertical, FaTrash, FaEdit, FaCheck, FaTimes } from 'react-icons/fa'; // Icons\nimport { BlockTypes } from '../PromptWorkshop'; // Import BlockTypes\nimport '../../../styles/PromptWorkshop.css'; // Ensure CSS is created/updated\n\nfunction SortableBlock({ id, block, onDeleteBlock, onUpdateBlockContent, isDragging, isOpacityReduced }) {\n    // Έναρξη επεξεργασίας εάν είναι νέο προσαρμοσμένο μπλοκ\n    const [isEditing, setIsEditing] = useState(block.type === BlockTypes.CUSTOM_TEXT && block.content.includes('Εισαγάγετε τη δική σας οδηγία...'));\n    const [editedContent, setEditedContent] = useState(block.content);\n    const textareaRef = useRef(null); // Ref for the textarea\n\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging: isSortableDragging // Renamed to avoid conflict\n    } = useSortable({ id: id });\n\n    // Combine isDragging props if needed\n    const currentlyDragging = isDragging || isSortableDragging;\n\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition: transition || undefined, // Ensure transition is not null\n        opacity: isOpacityReduced ? 0.5 : 1,\n        cursor: currentlyDragging ? 'grabbing' : 'grab',\n        zIndex: currentlyDragging ? 10 : 'auto', // Bring dragged item to front\n    };\n\n    // --- Edit Handling ---\n    const handleEditClick = () => {\n        setEditedContent(block.content); // Reset edit buffer to current content\n        setIsEditing(true);\n    };\n\n    const handleSaveEdit = () => {\n        if (editedContent.trim() !== block.content) {\n            onUpdateBlockContent(id, editedContent.trim());\n        }\n        setIsEditing(false);\n    };\n\n    const handleCancelEdit = () => {\n        setEditedContent(block.content); // Revert changes\n        setIsEditing(false);\n    };\n\n    const handleContentChange = (e) => {\n        setEditedContent(e.target.value);\n        // Auto-resize textarea\n        if (textareaRef.current) {\n            textareaRef.current.style.height = 'auto'; // Reset height\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n    };\n\n     // Auto-focus and resize textarea when editing starts\n    useEffect(() => {\n        if (isEditing && textareaRef.current) {\n            textareaRef.current.focus();\n            textareaRef.current.select(); // Select text for easy replacement\n             // Adjust height initially and in case content was loaded\n            textareaRef.current.style.height = 'auto';\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n    }, [isEditing]);\n\n\n    // Determine block type for styling/iconography\n    const getBlockIcon = () => {\n        switch(block.type) {\n            case BlockTypes.MATERIAL_SUMMARY: return <span title=\"Περίληψη Υλικού\">📄</span>;\n            case BlockTypes.CUSTOM_TEXT: return <span title=\"Προσαρμοσμένο Κείμενο\">✏️</span>;\n            case BlockTypes.PALETTE_ITEM: // Should be CANVAS_BLOCK on canvas\n            case BlockTypes.CANVAS_BLOCK:\n                 // Heuristic for icons based on title/content\n                if (block.title?.includes('Ρόλος') || block.title?.includes('Προσωπικότητα')) return <span title={block.title}>🎯</span>;\n                if (block.title?.includes('Ύφος')) return <span title={block.title}>🗣️</span>;\n                if (block.title?.includes('Πλαίσιο') || block.title?.includes('Γνώση')) return <span title={block.title}>📚</span>;\n                if (block.title?.includes('Καθοδήγηση') || block.title?.includes('Βήμα')) return <span title={block.title}>❓</span>;\n                if (block.title?.includes('Παράδειγμα')) return <span title={block.title}>✅</span>;\n                if (block.title?.includes('Ασφάλεια')) return <span title={block.title}>🛡️</span>;\n                return <span title=\"Οδηγία\">⚙️</span>; // Default instruction icon\n            default: return <span title=\"Μπλοκ\">🧱</span>;\n        }\n    };\n\n    return (\n        <div ref={setNodeRef} style={style} className={`canvas-block ${currentlyDragging ? 'dragging' : ''} type-${block.type || 'default'}`}>\n             {/* Drag Handle (only visible when not editing) */}\n            {!isEditing && (\n                <button {...attributes} {...listeners} className=\"drag-handle subtle-button\" title=\"Σύρετε για αναδιάταξη\">\n                    <FaGripVertical />\n                </button>\n            )}\n\n            <div className=\"block-content-area\">\n                 <div className=\"block-header\">\n                    {getBlockIcon()}\n                    <strong>{block.title || 'Μπλοκ Οδηγίας'}</strong>\n                 </div>\n                {isEditing ? (\n                    <textarea\n                        ref={textareaRef}\n                        value={editedContent}\n                        onChange={handleContentChange}\n                        onBlur={handleSaveEdit} // Save when focus is lost\n                        rows={3} // Start with a few rows\n                        className=\"block-textarea\"\n                    />\n                ) : (\n                    <p className=\"block-text\" onDoubleClick={block.type === BlockTypes.CUSTOM_TEXT ? handleEditClick : undefined}>\n                         {block.content}\n                         {block.type === BlockTypes.CUSTOM_TEXT && <FaEdit className=\"edit-hint-icon\" title=\"Διπλό κλικ για επεξεργασία\"/>}\n                    </p>\n                )}\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"block-actions\">\n                {isEditing ? (\n                    <>\n                        <button onClick={handleSaveEdit} className=\"action-button save subtle-button\" title=\"Αποθήκευση αλλαγών\">\n                            <FaCheck />\n                        </button>\n                        <button onClick={handleCancelEdit} className=\"action-button cancel subtle-button\" title=\"Ακύρωση επεξεργασίας\">\n                            <FaTimes />\n                        </button>\n                    </>\n                ) : (\n                    <>\n                     {/* Allow editing for custom text blocks */}\n                     {block.type === BlockTypes.CUSTOM_TEXT && (\n                        <button onClick={handleEditClick} className=\"action-button edit subtle-button\" title=\"Επεξεργασία περιεχομένου\">\n                             <FaEdit />\n                         </button>\n                     )}\n                        <button onClick={() => onDeleteBlock(id)} className=\"action-button delete subtle-button\" title=\"Διαγραφή μπλοκ\">\n                            <FaTrash />\n                        </button>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SortableBlock;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}