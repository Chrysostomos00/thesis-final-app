{"ast":null,"code":"var _jsxFileName = \"/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SUGGESTIONS = [\"Explain this like I'm 12\", \"Give me a quick summary\", \"Show me a step-by-step\", \"Make a practice question\", \"What are common mistakes?\"];\nconst UserAvatar = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const svg = useMemo(() => {\n    if (!(user !== null && user !== void 0 && user.email)) return '';\n    return createAvatar(adventurer, {\n      seed: user.email,\n      size: 36,\n      radius: 50\n    }).toString();\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-avatar-container user-avatar\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avatar round size-36\",\n      dangerouslySetInnerHTML: {\n        __html: svg\n      },\n      title: \"You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(UserAvatar, \"Hej07pNmKlTAtuDvRyNUcOG8AKk=\", false, function () {\n  return [useAuth];\n});\n_c = UserAvatar;\nconst AssistantAvatar = ({\n  svgString\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"message-avatar-container assistant-avatar\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar square size-36\",\n    dangerouslySetInnerHTML: {\n      __html: svgString\n    },\n    title: \"AI Assistant\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 3\n}, this);\n_c2 = AssistantAvatar;\nfunction ChatInterface({\n  promptId,\n  promptName,\n  promptDescription,\n  assistantAvatarSvg,\n  onBack\n}) {\n  _s2();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Scroll to bottom when messages or loading changes\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, isLoading]);\n\n  // Reset chat when assistant changes\n  useEffect(() => {\n    setMessages([]);\n    setError('');\n    setInputMessage('');\n    setIsLoading(false);\n  }, [promptId]);\n\n  // Generate / use assistant avatar\n  const defaultAssistantAvatar = useMemo(() => assistantAvatarSvg || createAvatar(bottts, {\n    seed: promptId,\n    size: 48\n  }).toString(), [assistantAvatarSvg, promptId]);\n  const handleSendMessage = useCallback(async messageContent => {\n    const content = (messageContent !== null && messageContent !== void 0 ? messageContent : inputMessage).trim();\n    if (!content || isLoading) return;\n    setError('');\n    const newUserMessage = {\n      role: 'user',\n      content\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    try {\n      const response = await askAssistant(promptId, content);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.response\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `Error: ${errorMessage}`\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [inputMessage, isLoading, promptId]);\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    handleSendMessage();\n  };\n  const handleSuggestionClick = suggestion => {\n    setInputMessage(suggestion);\n    handleSendMessage(suggestion);\n  };\n\n  // Textarea auto-resize\n  useEffect(() => {\n    const el = inputRef.current;\n    if (!el) return;\n    el.style.height = 'auto';\n    const max = 180;\n    el.style.height = Math.min(el.scrollHeight, max) + 'px';\n  }, [inputMessage]);\n\n  // Enter to send, Shift+Enter for newline\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-interface-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"back-button\",\n        title: \"Back to assistants\",\n        \"aria-label\": \"Back to assistants\",\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hide-on-narrow\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar square size-40\",\n        dangerouslySetInnerHTML: {\n          __html: defaultAssistantAvatar\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: promptName || 'AI Assistant'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: promptDescription || 'Ready to help!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), messages.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-suggestions\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hint\",\n        children: \"Try one of these to get started:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chips\",\n        children: SUGGESTIONS.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"chip\",\n          onClick: () => handleSuggestionClick(s),\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-bubble ${msg.role}`,\n        children: [msg.role === 'user' ? /*#__PURE__*/_jsxDEV(UserAvatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 36\n        }, this) : /*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: msg.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-bubble assistant loading\",\n        children: [/*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content typing\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message chat-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-input-form\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: inputRef,\n        value: inputMessage,\n        onChange: e => setInputMessage(e.target.value),\n        onKeyDown: handleKeyDown,\n        placeholder: \"Ask your question... (Shift+Enter for a new line)\",\n        disabled: isLoading,\n        \"aria-label\": \"Chat input\",\n        rows: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || !inputMessage.trim(),\n        title: \"Send Message\",\n        \"aria-label\": \"Send\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n          className: \"spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s2(ChatInterface, \"rXIaWeg586IXu5BGdZ+1sdXBIIg=\");\n_c3 = ChatInterface;\nexport default ChatInterface;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"UserAvatar\");\n$RefreshReg$(_c2, \"AssistantAvatar\");\n$RefreshReg$(_c3, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","useCallback","askAssistant","FaPaperPlane","FaSpinner","FaArrowLeft","createAvatar","adventurer","bottts","useAuth","jsxDEV","_jsxDEV","SUGGESTIONS","UserAvatar","_s","user","svg","email","seed","size","radius","toString","className","children","dangerouslySetInnerHTML","__html","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","AssistantAvatar","svgString","_c2","ChatInterface","promptId","promptName","promptDescription","assistantAvatarSvg","onBack","_s2","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","error","setError","chatEndRef","inputRef","_chatEndRef$current","current","scrollIntoView","behavior","defaultAssistantAvatar","handleSendMessage","messageContent","content","trim","newUserMessage","role","prev","response","assistantMessage","data","err","_err$response","_err$response$data","console","errorMessage","handleFormSubmit","e","preventDefault","handleSuggestionClick","suggestion","el","style","height","max","Math","min","scrollHeight","handleKeyDown","key","shiftKey","onClick","length","map","s","msg","index","ref","onSubmit","value","onChange","target","onKeyDown","placeholder","disabled","rows","type","_c3","$RefreshReg$"],"sources":["/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\n\nconst SUGGESTIONS = [\n  \"Explain this like I'm 12\",\n  \"Give me a quick summary\",\n  \"Show me a step-by-step\",\n  \"Make a practice question\",\n  \"What are common mistakes?\",\n];\n\nconst UserAvatar = () => {\n  const { user } = useAuth();\n  const svg = useMemo(() => {\n    if (!user?.email) return '';\n    return createAvatar(adventurer, { seed: user.email, size: 36, radius: 50 }).toString();\n  }, [user]);\n  return (\n    <div className=\"message-avatar-container user-avatar\">\n      <div className=\"avatar round size-36\" dangerouslySetInnerHTML={{ __html: svg }} title=\"You\" />\n    </div>\n  );\n};\n\nconst AssistantAvatar = ({ svgString }) => (\n  <div className=\"message-avatar-container assistant-avatar\">\n    <div className=\"avatar square size-36\" dangerouslySetInnerHTML={{ __html: svgString }} title=\"AI Assistant\" />\n  </div>\n);\n\nfunction ChatInterface({ promptId, promptName, promptDescription, assistantAvatarSvg, onBack }) {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Scroll to bottom when messages or loading changes\n  useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }); }, [messages, isLoading]);\n\n  // Reset chat when assistant changes\n  useEffect(() => {\n    setMessages([]);\n    setError('');\n    setInputMessage('');\n    setIsLoading(false);\n  }, [promptId]);\n\n  // Generate / use assistant avatar\n  const defaultAssistantAvatar = useMemo(\n    () => assistantAvatarSvg || createAvatar(bottts, { seed: promptId, size: 48 }).toString(),\n    [assistantAvatarSvg, promptId]\n  );\n\n  const handleSendMessage = useCallback(async (messageContent) => {\n    const content = (messageContent ?? inputMessage).trim();\n    if (!content || isLoading) return;\n\n    setError('');\n    const newUserMessage = { role: 'user', content };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n\n    try {\n      const response = await askAssistant(promptId, content);\n      const assistantMessage = { role: 'assistant', content: response.data.response };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = err?.response?.data?.error || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, { role: 'assistant', content: `Error: ${errorMessage}` }]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [inputMessage, isLoading, promptId]);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    handleSendMessage();\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    setInputMessage(suggestion);\n    handleSendMessage(suggestion);\n  };\n\n  // Textarea auto-resize\n  useEffect(() => {\n    const el = inputRef.current;\n    if (!el) return;\n    el.style.height = 'auto';\n    const max = 180;\n    el.style.height = Math.min(el.scrollHeight, max) + 'px';\n  }, [inputMessage]);\n\n  // Enter to send, Shift+Enter for newline\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"chat-interface-container\">\n      {/* Header */}\n      <div className=\"chat-header\">\n        {onBack && (\n          <button\n            onClick={onBack}\n            className='back-button'\n            title=\"Back to assistants\"\n            aria-label=\"Back to assistants\"\n          >\n            <FaArrowLeft /> <span className=\"hide-on-narrow\">Back</span>\n          </button>\n        )}\n        <div className='avatar square size-40' dangerouslySetInnerHTML={{ __html: defaultAssistantAvatar }}/>\n        <div className=\"chat-header-info\">\n          <h3>{promptName || 'AI Assistant'}</h3>\n          <p>{promptDescription || 'Ready to help!'}</p>\n        </div>\n      </div>\n\n      {/* Suggestions */}\n      {messages.length === 0 && !isLoading && (\n        <div className=\"chat-suggestions\">\n          <p className=\"hint\">Try one of these to get started:</p>\n          <div className=\"chips\">\n            {SUGGESTIONS.map((s) => (\n              <button key={s} className=\"chip\" onClick={() => handleSuggestionClick(s)}>{s}</button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Messages */}\n      <div className=\"chat-messages\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`message-bubble ${msg.role}`}>\n            {msg.role === 'user' ? <UserAvatar /> : <AssistantAvatar svgString={defaultAssistantAvatar} />}\n            <div className=\"message-content\">\n              <pre>{msg.content}</pre>\n            </div>\n          </div>\n        ))}\n\n        {isLoading && (\n          <div className=\"message-bubble assistant loading\">\n            <AssistantAvatar svgString={defaultAssistantAvatar}/>\n            <div className=\"message-content typing\">\n              <span className=\"dot\" /><span className=\"dot\" /><span className=\"dot\" />\n            </div>\n          </div>\n        )}\n\n        <div ref={chatEndRef} />\n      </div>\n\n      {/* Error */}\n      {error && <p className=\"error-message chat-error\">{error}</p>}\n\n      {/* Input */}\n      <form className=\"chat-input-form\" onSubmit={handleFormSubmit}>\n        <textarea\n          ref={inputRef}\n          value={inputMessage}\n          onChange={(e) => setInputMessage(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Ask your question... (Shift+Enter for a new line)\"\n          disabled={isLoading}\n          aria-label=\"Chat input\"\n          rows={1}\n        />\n        <button type=\"submit\" disabled={isLoading || !inputMessage.trim()} title=\"Send Message\" aria-label=\"Send\">\n          {isLoading ? <FaSpinner className=\"spin\" /> : <FaPaperPlane />}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}