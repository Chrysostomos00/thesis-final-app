{"ast":null,"code":"var _jsxFileName = \"/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserAvatar = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const svg = useMemo(() => {\n    if (!(user !== null && user !== void 0 && user.email)) return '';\n    return createAvatar(adventurer, {\n      seed: user.email,\n      size: 36,\n      radius: 50\n    }).toString();\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-avatar-container user-avatar\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avatar\",\n      dangerouslySetInnerHTML: {\n        __html: svg\n      },\n      title: \"You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n_s(UserAvatar, \"Hej07pNmKlTAtuDvRyNUcOG8AKk=\", false, function () {\n  return [useAuth];\n});\n_c = UserAvatar;\nconst AssistantAvatar = ({\n  svgString\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"message-avatar-container assistant-avatar\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar\",\n    dangerouslySetInnerHTML: {\n      __html: svgString\n    },\n    title: \"AI Assistant\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 23,\n  columnNumber: 3\n}, this);\n_c2 = AssistantAvatar;\nconst SUGGESTIONS = [\"Explain this like I'm 12\", \"Give me a quick summary\", \"Show me a step-by-step\", \"Make a practice question\", \"What are common mistakes?\"];\nfunction ChatInterface({\n  promptId,\n  promptName,\n  promptDescription,\n  assistantAvatarSvg,\n  onBack\n}) {\n  _s2();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, isLoading]);\n  useEffect(() => {\n    setMessages([]);\n    setError('');\n    setInputMessage('');\n    setIsLoading(false);\n  }, [promptId]);\n  const defaultAssistantAvatar = useMemo(() => assistantAvatarSvg || createAvatar(bottts, {\n    seed: promptId,\n    size: 48\n  }).toString(), [assistantAvatarSvg, promptId]);\n  const handleSendMessage = useCallback(async messageContent => {\n    const content = (messageContent || inputMessage).trim();\n    if (!content || isLoading) return;\n    setError('');\n    const newUserMessage = {\n      role: 'user',\n      content\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    try {\n      const response = await askAssistant(promptId, content);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.response\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `Error: ${errorMessage}`\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [inputMessage, isLoading, promptId]);\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    handleSendMessage();\n  };\n  const handleSuggestionClick = suggestion => {\n    setInputMessage(suggestion);\n    // Automatically send the message when a suggestion is clicked\n    handleSendMessage(suggestion);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-interface-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"subtle-button back-button\",\n        title: \"Back to list\",\n        \"aria-label\": \"Back to list\",\n        children: /*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar\",\n        dangerouslySetInnerHTML: {\n          __html: defaultAssistantAvatar\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: promptName || 'AI Assistant'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: promptDescription || 'Ready to help!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), messages.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-suggestions\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hint\",\n        children: \"Try one of these to get started:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chips\",\n        children: SUGGESTIONS.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"chip\",\n          onClick: () => handleSuggestionClick(s),\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-bubble ${msg.role}`,\n        children: [msg.role === 'user' ? /*#__PURE__*/_jsxDEV(UserAvatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 36\n        }, this) : /*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: msg.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-bubble assistant loading\",\n        children: [/*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content typing\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message chat-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-input-form\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputMessage,\n        onChange: e => setInputMessage(e.target.value),\n        placeholder: \"Ask your question...\",\n        disabled: isLoading,\n        \"aria-label\": \"Chat input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || !inputMessage.trim(),\n        title: \"Send Message\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n          className: \"spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s2(ChatInterface, \"LlKeGEFMe/0EuzTDZRQ/0h138IE=\");\n_c3 = ChatInterface;\nexport default ChatInterface;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"UserAvatar\");\n$RefreshReg$(_c2, \"AssistantAvatar\");\n$RefreshReg$(_c3, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","useCallback","askAssistant","FaPaperPlane","FaSpinner","FaArrowLeft","createAvatar","adventurer","bottts","useAuth","jsxDEV","_jsxDEV","UserAvatar","_s","user","svg","email","seed","size","radius","toString","className","children","dangerouslySetInnerHTML","__html","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","AssistantAvatar","svgString","_c2","SUGGESTIONS","ChatInterface","promptId","promptName","promptDescription","assistantAvatarSvg","onBack","_s2","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","error","setError","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","defaultAssistantAvatar","handleSendMessage","messageContent","content","trim","newUserMessage","role","prev","response","assistantMessage","data","err","_err$response","_err$response$data","console","errorMessage","handleFormSubmit","e","preventDefault","handleSuggestionClick","suggestion","onClick","length","map","s","msg","index","ref","onSubmit","type","value","onChange","target","placeholder","disabled","_c3","$RefreshReg$"],"sources":["/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\n\nconst UserAvatar = () => {\n  const { user } = useAuth();\n  const svg = useMemo(() => {\n    if (!user?.email) return '';\n    return createAvatar(adventurer, { seed: user.email, size: 36, radius: 50 }).toString();\n  }, [user]);\n  return (\n    <div className=\"message-avatar-container user-avatar\">\n      <div className=\"avatar\" dangerouslySetInnerHTML={{ __html: svg }} title=\"You\" />\n    </div>\n  );\n};\n\nconst AssistantAvatar = ({ svgString }) => (\n  <div className=\"message-avatar-container assistant-avatar\">\n    <div className=\"avatar\" dangerouslySetInnerHTML={{ __html: svgString }} title=\"AI Assistant\" />\n  </div>\n);\n\nconst SUGGESTIONS = [\n  \"Explain this like I'm 12\",\n  \"Give me a quick summary\",\n  \"Show me a step-by-step\",\n  \"Make a practice question\",\n  \"What are common mistakes?\",\n];\n\nfunction ChatInterface({ promptId, promptName, promptDescription, assistantAvatarSvg, onBack }) {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n\n  useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }); }, [messages, isLoading]);\n  useEffect(() => { setMessages([]); setError(''); setInputMessage(''); setIsLoading(false); }, [promptId]);\n\n  const defaultAssistantAvatar = useMemo(\n    () => assistantAvatarSvg || createAvatar(bottts, { seed: promptId, size: 48 }).toString(),\n    [assistantAvatarSvg, promptId]\n  );\n\n  const handleSendMessage = useCallback(async (messageContent) => {\n    const content = (messageContent || inputMessage).trim();\n    if (!content || isLoading) return;\n\n    setError('');\n    const newUserMessage = { role: 'user', content };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n\n    try {\n      const response = await askAssistant(promptId, content);\n      const assistantMessage = { role: 'assistant', content: response.data.response };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = err.response?.data?.error || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, { role: 'assistant', content: `Error: ${errorMessage}` }]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [inputMessage, isLoading, promptId]);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    handleSendMessage();\n  };\n  \n  const handleSuggestionClick = (suggestion) => {\n      setInputMessage(suggestion);\n      // Automatically send the message when a suggestion is clicked\n      handleSendMessage(suggestion);\n  };\n\n  return (\n    <div className=\"chat-interface-container\">\n      <div className=\"chat-header\">\n        {onBack && (\n          <button onClick={onBack} className='subtle-button back-button' title=\"Back to list\" aria-label=\"Back to list\">\n            <FaArrowLeft />\n          </button>\n        )}\n        <div className='avatar' dangerouslySetInnerHTML={{ __html: defaultAssistantAvatar }}/>\n        <div className=\"chat-header-info\">\n          <h3>{promptName || 'AI Assistant'}</h3>\n          <p>{promptDescription || 'Ready to help!'}</p>\n        </div>\n      </div>\n\n      {messages.length === 0 && !isLoading && (\n        <div className=\"chat-suggestions\">\n          <p className=\"hint\">Try one of these to get started:</p>\n          <div className=\"chips\">\n            {SUGGESTIONS.map((s) => (\n              <button key={s} className=\"chip\" onClick={() => handleSuggestionClick(s)}>{s}</button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"chat-messages\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`message-bubble ${msg.role}`}>\n            {msg.role === 'user' ? <UserAvatar /> : <AssistantAvatar svgString={defaultAssistantAvatar} />}\n            <div className=\"message-content\">\n              <pre>{msg.content}</pre>\n            </div>\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"message-bubble assistant loading\">\n            <AssistantAvatar svgString={defaultAssistantAvatar}/>\n            <div className=\"message-content typing\">\n              <span className=\"dot\" /><span className=\"dot\" /><span className=\"dot\" />\n            </div>\n          </div>\n        )}\n        <div ref={chatEndRef} />\n      </div>\n\n      {error && <p className=\"error-message chat-error\">{error}</p>}\n\n      <form className=\"chat-input-form\" onSubmit={handleFormSubmit}>\n        <input\n          type=\"text\"\n          value={inputMessage}\n          onChange={(e) => setInputMessage(e.target.value)}\n          placeholder=\"Ask your question...\"\n          disabled={isLoading}\n          aria-label=\"Chat input\"\n        />\n        <button type=\"submit\" disabled={isLoading || !inputMessage.trim()} title=\"Send Message\">\n          {isLoading ? <FaSpinner className=\"spin\" /> : <FaPaperPlane />}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}