{"ast":null,"code":"var _jsxFileName = \"/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserAvatar = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [svg, setSvg] = useState('');\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.email) {\n      const avatar = createAvatar(adventurer, {\n        seed: user.email,\n        size: 32,\n        radius: 50\n      });\n      setSvg(avatar.toString());\n    }\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-avatar-container user-avatar\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avatar\",\n      dangerouslySetInnerHTML: {\n        __html: svg\n      },\n      title: \"You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_s(UserAvatar, \"rpZzHibDg+wYRCw3uYaSk6DK9k4=\", false, function () {\n  return [useAuth];\n});\n_c = UserAvatar;\nconst AssistantAvatar = ({\n  svgString\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"message-avatar-container assistant-avatar\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar\",\n    dangerouslySetInnerHTML: {\n      __html: svgString\n    },\n    title: \"AI Assistant\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 3\n}, this);\n_c2 = AssistantAvatar;\nconst SUGGESTIONS = [\"Explain this like I'm 12\", \"Give me a quick summary\", \"Show me a step-by-step\", \"Make a practice question\", \"What are common mistakes?\"];\nfunction ChatInterface({\n  promptId,\n  promptName,\n  promptDescription,\n  assistantAvatarSvg,\n  onBack\n}) {\n  _s2();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  useEffect(() => {\n    setMessages([]);\n    setError('');\n    setInputMessage('');\n    setIsLoading(false);\n  }, [promptId]);\n  const defaultAssistantAvatar = useMemo(() => assistantAvatarSvg || createAvatar(bottts, {\n    seed: promptId,\n    size: 40\n  }).toString(), [assistantAvatarSvg, promptId]);\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    const userMessageContent = inputMessage.trim();\n    if (!userMessageContent || isLoading) return;\n    setError('');\n    const newUserMessage = {\n      role: 'user',\n      content: userMessageContent\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    try {\n      const response = await askAssistant(promptId, userMessageContent);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.response\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n\n      // gamify: +5 XP per assistant reply\n      const xp = parseInt(localStorage.getItem('student_xp') || '0', 10) + 5;\n      localStorage.setItem('student_xp', String(xp));\n      localStorage.setItem('student_last_active', new Date().toISOString().slice(0, 10));\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `Error: ${errorMessage}`\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const sendSuggestion = text => setInputMessage(text);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-interface-container widget\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"subtle-button back-button\",\n        title: \"Back to list\",\n        \"aria-label\": \"Back to list\",\n        children: /*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar\",\n        dangerouslySetInnerHTML: {\n          __html: defaultAssistantAvatar\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: promptName || 'AI Assistant'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: promptDescription || 'Ready to help!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-suggestions\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hint\",\n        children: \"Try one of these to get started:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chips\",\n        children: SUGGESTIONS.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"chip\",\n          onClick: () => sendSuggestion(s),\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-bubble ${msg.role}`,\n        children: [msg.role === 'user' ? /*#__PURE__*/_jsxDEV(UserAvatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 36\n        }, this) : /*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: msg.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-bubble assistant loading\",\n        children: [/*#__PURE__*/_jsxDEV(AssistantAvatar, {\n          svgString: defaultAssistantAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content typing\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message chat-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-input-form\",\n      onSubmit: handleSendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputMessage,\n        onChange: e => setInputMessage(e.target.value),\n        placeholder: \"Ask your question...\",\n        disabled: isLoading,\n        \"aria-label\": \"Chat input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || !inputMessage.trim(),\n        title: \"Send Message\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n          className: \"spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s2(ChatInterface, \"6VaNVpeI01H5RRhIttc+W6f+UjU=\");\n_c3 = ChatInterface;\nexport default ChatInterface;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"UserAvatar\");\n$RefreshReg$(_c2, \"AssistantAvatar\");\n$RefreshReg$(_c3, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","askAssistant","FaPaperPlane","FaSpinner","FaArrowLeft","createAvatar","adventurer","bottts","useAuth","jsxDEV","_jsxDEV","UserAvatar","_s","user","svg","setSvg","email","avatar","seed","size","radius","toString","className","children","dangerouslySetInnerHTML","__html","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","AssistantAvatar","svgString","_c2","SUGGESTIONS","ChatInterface","promptId","promptName","promptDescription","assistantAvatarSvg","onBack","_s2","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","error","setError","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","defaultAssistantAvatar","handleSendMessage","e","preventDefault","userMessageContent","trim","newUserMessage","role","content","prev","response","assistantMessage","data","xp","parseInt","localStorage","getItem","setItem","String","Date","toISOString","slice","err","_err$response","_err$response$data","console","errorMessage","sendSuggestion","text","onClick","length","map","s","msg","index","ref","onSubmit","type","value","onChange","target","placeholder","disabled","_c3","$RefreshReg$"],"sources":["/Users/tommys/Desktop/ai14/frontend/src/components/StudentDashboard/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { askAssistant } from '../../services/api';\nimport { FaPaperPlane, FaSpinner, FaArrowLeft } from 'react-icons/fa';\nimport { createAvatar } from '@dicebear/core';\nimport { adventurer, bottts } from '@dicebear/collection';\nimport { useAuth } from '../../contexts/AuthContext';\nimport '../../styles/StudentDashboard.css';\n\nconst UserAvatar = () => {\n  const { user } = useAuth();\n  const [svg, setSvg] = useState('');\n  useEffect(() => {\n    if (user?.email) {\n      const avatar = createAvatar(adventurer, { seed: user.email, size: 32, radius: 50 });\n      setSvg(avatar.toString());\n    }\n  }, [user]);\n  return (\n    <div className=\"message-avatar-container user-avatar\">\n      <div className=\"avatar\" dangerouslySetInnerHTML={{ __html: svg }} title=\"You\" />\n    </div>\n  );\n};\n\nconst AssistantAvatar = ({ svgString }) => (\n  <div className=\"message-avatar-container assistant-avatar\">\n    <div className=\"avatar\" dangerouslySetInnerHTML={{ __html: svgString }} title=\"AI Assistant\" />\n  </div>\n);\n\nconst SUGGESTIONS = [\n  \"Explain this like I'm 12\",\n  \"Give me a quick summary\",\n  \"Show me a step-by-step\",\n  \"Make a practice question\",\n  \"What are common mistakes?\",\n];\n\nfunction ChatInterface({ promptId, promptName, promptDescription, assistantAvatarSvg, onBack }) {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const chatEndRef = useRef(null);\n\n  useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }); }, [messages]);\n  useEffect(() => { setMessages([]); setError(''); setInputMessage(''); setIsLoading(false); }, [promptId]);\n\n  const defaultAssistantAvatar = useMemo(\n    () => assistantAvatarSvg || createAvatar(bottts, { seed: promptId, size: 40 }).toString(),\n    [assistantAvatarSvg, promptId]\n  );\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    const userMessageContent = inputMessage.trim();\n    if (!userMessageContent || isLoading) return;\n    setError('');\n    const newUserMessage = { role: 'user', content: userMessageContent };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    try {\n      const response = await askAssistant(promptId, userMessageContent);\n      const assistantMessage = { role: 'assistant', content: response.data.response };\n      setMessages(prev => [...prev, assistantMessage]);\n\n      // gamify: +5 XP per assistant reply\n      const xp = parseInt(localStorage.getItem('student_xp') || '0', 10) + 5;\n      localStorage.setItem('student_xp', String(xp));\n      localStorage.setItem('student_last_active', new Date().toISOString().slice(0,10));\n    } catch (err) {\n      console.error(\"Error asking assistant:\", err);\n      const errorMessage = err.response?.data?.error || \"Sorry, I couldn't get a response.\";\n      setError(errorMessage);\n      setMessages(prev => [...prev, { role: 'assistant', content: `Error: ${errorMessage}` }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const sendSuggestion = (text) => setInputMessage(text);\n\n  return (\n    <div className=\"chat-interface-container widget\">\n      <div className=\"chat-header\">\n        {onBack && (\n          <button onClick={onBack} className='subtle-button back-button' title=\"Back to list\" aria-label=\"Back to list\">\n            <FaArrowLeft />\n          </button>\n        )}\n        <div className='avatar' dangerouslySetInnerHTML={{ __html: defaultAssistantAvatar }}/>\n        <div className=\"chat-header-info\">\n          <h3>{promptName || 'AI Assistant'}</h3>\n          <p>{promptDescription || 'Ready to help!'}</p>\n        </div>\n      </div>\n\n      {messages.length === 0 && (\n        <div className=\"chat-suggestions\">\n          <p className=\"hint\">Try one of these to get started:</p>\n          <div className=\"chips\">\n            {SUGGESTIONS.map((s) => (\n              <button key={s} className=\"chip\" onClick={() => sendSuggestion(s)}>{s}</button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"chat-messages\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`message-bubble ${msg.role}`}>\n            {msg.role === 'user' ? <UserAvatar /> : <AssistantAvatar svgString={defaultAssistantAvatar} />}\n            <div className=\"message-content\">\n              <pre>{msg.content}</pre>\n            </div>\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"message-bubble assistant loading\">\n            <AssistantAvatar svgString={defaultAssistantAvatar}/>\n            <div className=\"message-content typing\">\n              <span className=\"dot\" /><span className=\"dot\" /><span className=\"dot\" />\n            </div>\n          </div>\n        )}\n        <div ref={chatEndRef} />\n      </div>\n\n      {error && <p className=\"error-message chat-error\">{error}</p>}\n\n      <form className=\"chat-input-form\" onSubmit={handleSendMessage}>\n        <input\n          type=\"text\"\n          value={inputMessage}\n          onChange={(e) => setInputMessage(e.target.value)}\n          placeholder=\"Ask your question...\"\n          disabled={isLoading}\n          aria-label=\"Chat input\"\n        />\n        <button type=\"submit\" disabled={isLoading || !inputMessage.trim()} title=\"Send Message\">\n          {isLoading ? <FaSpinner className=\"spin\" /> : <FaPaperPlane />}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}